<!DOCTYPE html>
<html lang="en">
  <!--
Rolzwy7 https://github.com/rolzwy7
Generated with Jekyll: https://jekyllrb.com/
env: production
-->

  <head>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-97941969-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-97941969-1');
    </script>
    

    <meta charset="utf-8">
    <meta name="description" content="How to implement Tor connections in your Python script on Windows OS.">
     <meta name="keywords" content="mobile development platforms, mobile application development platform" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>How to connect to Tor with Python on Windows</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Custom Style -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <!-- RSS Feed -->
    <link rel="canonical" href="https://rolzwy7.github.io/python3/2017/10/25/tor-python-implementation/">
    <link rel="alternate" type="application/rss+xml" title="Rolzwy7" href="/feed.xml">
    <!-- Imports JS body end -->
    <script src="/assets/js/header.js" charset="utf-8"></script>
    <link rel="icon" sizes="192x192" href="/assets/images/favicon.png">
    <meta name="theme-color" content="#FFFFFF">
    <meta name="apple-mobile-web-app-status-bar-style" content="#FFFFFF">
 </head>

    
    <!-- Ads on page level -->
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6537025406088107",
    enable_page_level_ads: true
    });
    </script>
    <!-- End Hotjar -->
    

    
    <!-- Google Analytics -->
    <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-97941969-1', 'auto');
ga('send', 'pageview');
</script>

    <!-- End Google Analytics -->
    

    
    <!-- Hotjar -->
    <!-- Hotjar Tracking Code for https://rolzwy7.github.io -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:619498,hjsv:5};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
</script>

    <!-- End Hotjar -->
    

  <body>

    <!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
    <div class="navbar-header">
        <button id="toc" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
    <a class="navbar-brand" href="/">
        <img src="/assets/images/logo.svg" alt="">
        Rolzwy7
        
    </a>
    </div>
        <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
        <li class="dropdown-search text-center hidden-md-up">
            <form action="/search/" method="get">
                <input type="text" name="search" value="" required autocomplete="off">
                <input type="submit" name="" value="Search">
                &emsp;|&emsp;
                <a class="pointer upper select-lang">en</a>
            </form>
        </li>
        <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
            Blog
        <span class="caret"></span></a>
        <ul class="dropdown-menu" role="menu">
        <li><a href="/categories/">All posts</a></li>
        <li class="divider"></li>
        <li class="dropdown-header">Category</li>
        
            <li><a href="/categories/?cat=python3">
                <i class="fa fa-chevron-right" aria-hidden="true"></i>
                &nbsp;
                Python3
            </a></li>
        
        <li>
        </ul>
        </li>
        </ul>
        <ul class="nav navbar-nav navbar-right hide-in">
        <li class="search-li">
            <form class="search-form hide-in" action="/search/" method="get">
                <input id="search-input" type="text" name="search" value="" required autocomplete="off">
                <input type="submit" name="" value="Search">
            </form>
        </li>
        <!-- Search -->
        <li>
            <a href="#search" id="showSearch">
                <i class="fa fa-search" aria-hidden="true"></i>
            </a>
        </li>
        <!-- Github -->
        <li class="hidden-md-down">
            
              <a href="https://github.com/rolzwy7" target="_blank">
    <i class="fa fa-github-alt" aria-hidden="true"></i>
    
</a>

            
        </li>
        <!-- Twitter -->
        <li class="hidden-md-down">
            
              <a href="https://twitter.com/rolzwy7" target="_blank">
    <i class="fa fa-twitter" aria-hidden="true"></i>
    
</a>

            
        </li>
        <li class="hidden-md-down">
            
              <a href="https://www.youtube.com/channel/UChjyf-0BFC4CWhr3ClL_qug" target="_blank">
    <i class="fa fa-youtube-play" aria-hidden="true"></i>
    
</a>

            
        </li>
        <!-- Lang -->
        <li>
            <a class="pointer upper select-lang">en</a>
        </li>
        </ul>
        </div>
    </div>
</nav>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="container">
    <div class="row">
        <div class="col-lg-8 col-md-7">
            <!-- Advert -->
<!-- <div style="margin-bottom: 20px; text-align: center;">
    Advert
</div> -->

        </div>
        <div class="col-lg-8 col-md-7">
            <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
                <header class="post-header">
                    <h1 class="post-title" itemprop="name headline">
                        How to connect to Tor with Python on Windows
                    </h1>
                    <p>
                        
                        <span class="label label-success" style="margin-right: 5px;">
                            Python3
                        </span>
                        
                    </p>
                    <p class="post-meta">
                        <time datetime="2017-10-25T00:00:00+02:00" itemprop="datePublished">
                            
                            2017/10/25
                        </time>
                        
                            &nbsp;|&nbsp;
                            <span itemprop="author" itemscope itemtype="http://schema.org/Person">
                                <span itemprop="name">
                                    <a href="https://github.com/rolzwy7">
                                        Rolzwy7
                                    </a>
                                </span>
                            </span>
                        
                    </p>
                </header>

            <div class="post-content" itemprop="articleBody">
            How to implement Tor connections in your Python script on Windows OS.
<!--separator-->
<div class="row">
    <div class="col-lg-12">
        <hr>
        Used Python3 modules: <br>
        <ul>
            <b>
                <li> - socket </li>
                <li> - socks </li>
                <li> - os </li>
                <li> - time </li>
                <li> - pdb </li>
                <li> - socks </li>
                <li> - requests </li>
            </b>
        </ul>
        <hr>
        <h2>Step 1 - Install Tor</h2>
        Install Tor Browser from <a href="https://www.torproject.org/">Tor Project</a> and
        unpack it.
        <br> ( I unpacked my files to disk root <b>E:\</b> so path to main Tor directory for me is
        <b>E:\Tor Browser</b> ) <br><br>
        It's always good to be sure that Tor is up to date so start Tor Browser, then click on
        <b>toc (menu button)</b>
        in the top right of the browser and then in <b>the circle with a question mark</b> and finally
        <b>"About Tor Browser"</b>

        <hr>
        <h2>Step 2 - Generate password</h2>
        To generate password for port control you need to use <b>tor.exe</b> executable that is located in
        <br> <b>E:\Tor Browser\Browser\TorBrowser\Tor</b> directory. <br>

        Open command line in this directory and type: <br> <br>
        <div class="well well-sm">
            tor.exe --hash-password YOUR_SECRET_PASSWORD | more
        </div>
        Copy hash similiar to one below that appeared in the console: <br>
        <b>16:6C0FADC9C6.....</b> <br>
        And remember YOUR_SECRET_PASSWORD
        We'll need both of them later. <br> <br>
        <div class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">
        <i class="fa fa-star" aria-hidden="true"></i>
    </h3>
  </div>
  <div class="panel-body">
    Pay attention to <b>'| more'</b> at the end of command.
        If you don't use this pipe there will be no output. <br>
  </div>
</div>

        <a href="https://stackoverflow.com/questions/30601300/tor-console-output-issue-running-tor-hash-password-gives-no-result" target="_blank" class="post-link">
    <i class="fa fa-stack-overflow" aria-hidden="true"></i>
    &nbsp;No console output tor.exe
</a>

        <hr>
        <h2>Step 3 - Create config file</h2>
        In <b>E:\Tor Browser\Browser\TorBrowser\Data\Tor</b> (where torrc is located) <br>
        Create new file. For example <b>tor_python_conf</b> and paste in everything what is below in bordered box.
        <br> <br>
        <span style="color:crimson;">
            Remember to change paths if you have different then mine and replace my test password <br>
            with yours (from Step 2) under 'HashedControlPassword'
        </span>
        <br> <br>
        <div class="well well-sm">
        DataDirectory E:\Tor Browser\Browser\TorBrowser\Data\Tor <br>
        GeoIPFile E:\Tor Browser\Browser\TorBrowser\Data\Tor\geoip <br>
        GeoIPv6File E:\Tor Browser\Browser\TorBrowser\Data\Tor\geoip6 <br>
        HiddenServiceStatistics 0 <br>
        <br>
        SocksPort 9150 IPv6Traffic PreferIPv6 KeepAliveIsolateSOCKSAuth <br>
        ControlPort 9151 <br>
        CookieAuthentication 1 <br>
        <br>
        HashedControlPassword
        16:6C0FADC9C6C7A51560FCA22399129702F1E994CB9CC51F90A087CAB0E3 <br>
        </div>
        <hr>
        <h2>Step 4 - Start Tor with own config file</h2>
        With command line start tor.exe. <br>
        Parameter -f is a path to config file that we created in Step 3<br>
        <div class="well well-sm">
        tor.exe -f "E:\Tor Browser\Browser\TorBrowser\Data\Tor\tor_python_conf" | more
        </div>
        Wait until Tor server fully start. (remember to add '| more' at the end of previous command)
        <h2>Step 5 - Implement Tor client in your Python script</h2>
        Download simple tor control module from: <a href="https://github.com/rolzwy7/onion">Here</a>
        <br>
        Unpack it and change root directory to (for example) <b>onion</b> <br>
        Install all needed modules from <b>requirements.txt</b> with pip. <br> <br>
        <div class="well well-sm">
        python -m pip install -r requirements.txt
        </div>
        Create your python script in the same directory that <b>onion</b> directory is and<br>
        paste everything below <br>
        <br>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="kn">from</span> <span class="nn">onion</span> <span class="kn">import</span> <span class="n">Tor</span><span class="p">,</span> <span class="n">TorRequests</span>
<span class="n">object_</span> <span class="o">=</span> <span class="n">Tor</span><span class="p">(</span><span class="n">auth</span><span class="o">=</span><span class="s">"YOUR_SECRET_PASSWORD"</span><span class="p">)</span>
<span class="n">object_</span> <span class="o">=</span> <span class="n">TorRequests</span><span class="p">()</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>
        <br>
        Start your script. <br>
        If you see your "Tor current endpoint" that means everything's working properly.
        <br>
        <br>
        <br>
    </div>
</div>

            </div>

            <!--  -->
            </article>
        </div>
    <!-- Right content -->
        <div class="col-lg-4 col-md-5 right-panel-posts" style="padding-top: 20px;">
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- RightPanel - rolzwy7 - Article -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6537025406088107"
     data-ad-slot="4068524251"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

            <!-- Posts -->
            <div class="panel panel-primary">
            <div class="panel-heading">
                <span class="glyphicon glyphicon-bookmark" aria-hidden="true"></span>
                &nbsp;Related posts
            </div>
                <div class="panel-body">
                    <ul class="list-group">
                        
                        
                        
                        <li class="list-group-item" title="2017/10/25">
                            <a href="/python3/2017/10/25/tor-python-implementation/">
                                How to connect to Tor with Python on Windows
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
            <!-- Categories -->
            <div class="panel panel-success">
            <div class="panel-heading">
                <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                &nbsp;Categories
            </div>
                <div class="panel-body">
                    <ul class="list-group">
                        
                        <li class="list-group-item">
                            <a href="/categories/?cat=python3">
                                Python3
                            </a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding-top: 20px;">
            <hr>
            
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://rolzwy7.github.io/python3/2017/10/25/tor-python-implementation/';
      this.page.identifier = 'https://rolzwy7.github.io/python3/2017/10/25/tor-python-implementation/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://rolzwy7.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


        </div>
    </div>
</div>

      </div>
    </main>

    <footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <h4>&lt;/Social&gt;</h4>
                <ul>
                    <li>
                        
                          <a href="https://github.com/rolzwy7" target="_blank">
    <i class="fa fa-github-alt" aria-hidden="true"></i>
    
    &nbsp;GitHub
    
</a>

                        
                    </li>
                    <li>
                        
                          <a href="https://twitter.com/rolzwy7" target="_blank">
    <i class="fa fa-twitter" aria-hidden="true"></i>
    
    &nbsp;Twitter
    
</a>

                        
                    </li>
                    <li>
                        
                          <a href="https://www.youtube.com/channel/UChjyf-0BFC4CWhr3ClL_qug" target="_blank">
    <i class="fa fa-youtube-play" aria-hidden="true"></i>
    
    &nbsp;YouTube
    
</a>

                        
                    </li>
                    <li>
                        
                          <a href="https://plus.google.com/u/0/101520004163925292769" target="_blank">
    <i class="fa fa-google-plus" aria-hidden="true"></i>
    
    &nbsp;Google +
    
</a>

                        
                    </li>
                </ul>
            </div>
            <div class="col-lg-4">
                <h4>&lt;/Contact&gt;</h4>
                <ul>
                    <li>
                        
                          <!--
urbbbnv57gu@gmail.com
mabbbqpd4hg@gmail.com
smbbbguthdq@gmail.com
orbbbnvijkh@gmail.com
kjbbbdhfmvk@gmail.com
54bbbds3udf@gmail.com
-->
<a id="liammee" href="cm9send5N0BnbWFpbC5jb20=" target="_blank">
    ordinaryemail@ordinatywebsite.noscope360
</a>
<div style="display: none;">
<a href="mailto:urnv57gudge@gmail.com">urnv57gudge@gmail.com</a>
maqpd4hg9d7@gmail.com
<a href="mailto:smguthdqm42@gmail.com">smguthdqm42@gmail.com</a>
ornvijkhl2s@gmail.com
<a href="mailto:kjdhfmvk35s@gmail.com">kjdhfmvk35s@gmail.com</a>
54ds3udfsff@gmail.com
</div>
<script type="text/javascript">
    $(document).ready(function(){
        var ds34a = atob("bWFpbHRvOg");
        var fd34d = atob($("#liammee").attr("href"));
        var sd45d = ds34a+fd34d;
        setTimeout(function(){
            $("#liammee").html('<i class="fa" aria-hidden="true"></i>&nbsp;'+fd34d);
            $("#liammee").attr("href", sd45d);
        }, 3000);
    });
</script>

                        
                    </li>
                </ul>
            </div>
            <div class="col-lg-4">

            </div>
        </div>
    </div>
    <hr>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <p class="text-center">
                    Copyright &copy;
<a href="https://github.com/rolzwy7">
    Rolzwy7
</a> 2017

                    &nbsp;|&nbsp;
                    <a href="/feed.xml" target="_blank">
    <i class="fa fa-rss" aria-hidden="true"></i>
    
    &nbsp;RSS
    
</a>
&nbsp;|&nbsp;
                    Powered by <a href="https://jekyllrb.com">Jekyll</a>
                </p>
            </div>
        </div>
    </div>
</footer>

    <!-- Language selection -->
    <div class="container lang-selection-container hidden">
        <div class="row">
            <div class="col-lg-3 col-xs-1"></div>
            <div class="col-lg-6 col-xs-9 card">
                <br>
                <h2 class="text-center">
                    <i class="fa fa-comments" aria-hidden="true"></i>&nbsp;
                    Choose your language
                </h2>
                <hr>
                <ul>
                    <li>
                        <a href="/">
                        <img src="/assets/images/en.png" alt="English">
                        &emsp;English&emsp;
                        </a>
                    </li>
                    <li>
                        <a href="/pl/">
                            <img src="/assets/images/pl.png" alt="Polski">
                            &emsp;Polski&emsp;
                        </a>
                    </li>
                    <li>

                        <a href="/es/python3/2017/10/25/tor-python-implementation/">
                        <img src="/assets/images/es.png" alt="Español">
                        &emsp;Español&emsp;
                        </a>
                    </li>
                </ul>
                <hr>
            </div>
            <div class="col-lg-3 col-xs-2">
                <a class="pointer">
                    <span class="fa-stack fa-lg select-lang">
                    <i class="fa fa-times fa-stack-1x fa-inverse black"></i>
                    </span>
                </a>
            </div>
        </div>
    </div>
    <!-- ScrollTop - end -->
<style media="screen">
#scrollTop {
    width: 30px;
    height: 30px;
    color: white;
    background-color: rgba(0,0,0,0.7);
    cursor: pointer;
}
#scrollTop > span {
    position: absolute;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    vertical-align: middle!important;
    font-size: 18px;
}
.scrolltop-hide {
    position: fixed;
    bottom: 50px;
    right: -40px;
    -webkit-transition-delay: 2s;
    transition-delay: .1s;
    transition-duration: .5s;
}
.scrolltop-show {
    position: fixed;
    bottom: 50px;
    right: 0px;
    -webkit-transition-delay: 2s;
    transition-delay: .1s;
    transition-duration: .5s;
}
</style>
<span id="scrollTop" class="scrollTop scrolltop-hide">
<span><i class="fa fa-chevron-up" aria-hidden="true"></i>
</span></span>
<!-- ScrollTop - end -->

  </body>

</html>
